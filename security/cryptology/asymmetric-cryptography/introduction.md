μ•”νΈν™”ν•  λ• μ‚¬μ©λλ” ν‚¤μ™€ λ³µνΈν™”ν•  λ• μ‚¬μ©ν•λ” ν‚¤κ°€ μ„λ΅ λ‹¤λ¥Έ μ•”νΈ μ•κ³ λ¦¬μ¦

ν‚¤ λ°°μ†΅ λ¬Έμ 
---

λ€μΉ­ν‚¤ μ•”νΈλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” ν‚¤ λ°°μ†΅ λ¬Έμ κ°€ λ°μƒν•¨.

### ν•΄κ²°λ°©λ²•

- ν‚¤ μ‚¬μ „ κ³µμ 
  - `ν‚¤ κ΄€λ¦¬κΈ°κ΄€(TA, Trusted Authority)`μ΄ μ‚¬μ „μ— μ†΅μμ‹ μλ“¤μ—κ² λΉ„λ°€ κ²½λ΅λ¥Ό ν†µν•μ—¬ ν‚¤λ¥Ό μ „λ‹¬
  - λ¬Έμ μ 
    - TAκ°€ `λ¨λ“  μ‚¬μ©μλ“¤μ ν‚¤(π‘›(π‘›β’1)/2κ°)`λ¥Ό κ΄€λ¦¬ν•΄μ•Ό ν•¨
    - TAμ™€ μ‚¬μ©μ κ°„μ `μ•μ „ν• ν†µλ΅ ν™•λ³΄` λ¬Έμ 
- μ¨λΌμΈ ν‚¤ λ¶„λ°°
  - `ν‚¤λ°°ν¬ μ„Όν„°(KDC, key distribution center)`μ—μ„ ν‚¤λ¥Ό μ „λ‹¬
  - λ°°ν¬ κ³Όμ •
    - ν‚¤λ°°ν¬ μ„Όν„°μ— ν†µμ‹ μ„ μ„ν• ν‚¤ μ”μ²­
    - ν‚¤λ°°ν¬ μ„Όν„°λ” `μμ‚¬λ‚μ μƒμ„±κΈ°`λ¥Ό ν†µν•΄ `μ„Έμ…ν‚¤`λ¥Ό μƒμ„±
    - `μ‚¬μ©μμ ν‚¤`λ΅ μ„Έμ…ν‚¤λ¥Ό μ•”νΈν™”ν•μ—¬ μ „λ‹¬
    - μ‚¬μ©μλ” μμ‹ μ ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ μ„Έμ…ν‚¤λ¥Ό μ–»μ
- Diffie-Hellmanμ ν‚¤ κµν™
- κ³µκ°ν‚¤ μ•”νΈ

Diffie-Hellmanμ ν‚¤ κµν™
---

- μµμ΄μ λΉ„λ°€ν‚¤ κµν™ ν”„λ΅ν† μ½
- μ΄μ‚° λ΅κ·Έ λ¬Έμ λ¥Ό ν™μ©
  - `y = g^x mod p`
    - y, p, gλ¥Ό μ•„λ” μƒνƒμ—μ„ xλ” κµ¬ν•κΈ° μ–΄λ µλ‹¤λ” λ¬Έμ 
  - `Key = g^xy mod p`
    - pμ™€ gκ°€ μ•λ ¤μ Έλ„ x, yλ” μ• μ μ—†μ
- μ‹¤μ λ΅λ” ν‚¤λ¥Ό κµν™ν•λ” κ²ƒμ΄ μ•„λ‹λΌ κ³µμ ν•λ” ν‚¤λ¥Ό μƒμ„±

### ν‚¤ κµν™ μ μ°¨

![Key exchange procedure](images/2020-05-25-15-48-57.png)

- ν†µμ‹ μ μ£Όμ²΄λ” λ‘κ°μ μ pμ™€ gλ¥Ό μ„ νƒ
  - p(1024bit, 300μλ¦¬κ°€ λ„λ” μ‹­μ§„μ)
  - g(1 < g < p-1)
- Aliceλ” κ°μΈν‚¤ xλ¥Ό μ •ν•κ³ , `R1 = g^x mod p` λ¥Ό κ³„μ‚°
- Bobμ€ κ°μΈν‚¤ yλ¥Ό μ •ν•κ³ , `R2 = g^y mod p` λ¥Ό κ³„μ‚°
- μ„λ΅μ—κ² R1, R2(κ³µκ°ν‚¤)λ¥Ό μ „λ‹¬
- Aliceλ” `(R2)^x mod p`, Bobμ€ `(R1)^y mod p`λ¥Ό κ³„μ‚°ν•μ—¬ λΉ„λ°€ν‚¤ λ„μ¶
- μ΄ν›„ λΉ„λ°€ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ ν†µμ‹ 

### κ³µκ²©

- μ΄μ‚°λ€μ κ³µκ²©
  - R1, R2 λ¥Ό λ„μ²­μκ°€ κ°€λ΅μ±„ x, yλ¥Ό κµ¬ν•κ² λλ©΄ Kλ¥Ό μ•μ•„ λ‚Ό μ μλ‹¤.
  - λΉ„λ°€ν‚¤μ μ—­ν• μ„ ν•  μ μ—†μ
- μ¤‘κ°„μ κ³µκ²©(MITM, Man-In-The-Middle Attack)
  - κ³µκ²©μλ” ν‚¤ κµν™ μ¤‘κ°„μ— λΌμ–΄λ“¤ μ μμ
  - ν†µμ‹  μ£Όμ²΄κ°„ μΈμ¦λ‹¨κ³„κ°€ μ—†κΈ° λ•λ¬Έ
  - ν•΄κ²° λ°©λ²•
    - μ „μμ„λ…κ³Ό κ³µκ°ν‚¤ μΈμ¦μ„
    - κµ­λ€κµ­ ν”„λ΅ν† μ½(STS, Station-To-Station Protocol)

κ³µκ°ν‚¤ μ•”νΈ
---

- μν•™μ μΌλ΅ ν•΄κ²°ν•κΈ° κ³¤λ€ν• λ¬Έμ λ¥Ό κΈ°λ°μΌλ΅ κΈ°λ°€μ„± μ μ§€
- μ „μλ¬Έμ„μ λ¬΄κ²°μ„±κ³Ό λ¶€μΈλ°©μ§€ κΈ°λ¥μ„ κ°€μ§€λ” μ „μμ„λ… κµ¬ν„, λ‹¤μ–‘ν• μ•”νΈ ν”„λ΅ν† μ½μ— μ‚¬μ© κ°€λ¥
- κ³µκ°ν‚¤(μ•”νΈν™”ν‚¤), κ°μΈν‚¤(λ³µνΈν™”ν‚¤)λ΅ λ¶„λ¦¬
  - λ‘ ν‚¤λ” μν•™μ  κ΄€κ³„λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ―€λ΅ λ³„κ°λ΅ μƒμ„± λ¶κ°€

### ν†µμ‹  κ³Όμ •

- μμ‹ μλ” κ³µκ°ν‚¤λ¥Ό μ†΅μ‹ μμ—κ² μ „λ‹¬
- μ†΅μ‹ μλ” κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•μ—¬ μ„Έμ…ν‚¤λ¥Ό μ•”νΈν™”ν•κ³  μμ‹ μμ—κ² μ „λ‹¬
- μμ‹ μλ” κ°μΈν‚¤λ΅ μ•”νΈλ¬Έμ„ λ³µνΈν™”